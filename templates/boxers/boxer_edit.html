{% extends "base.html" %}
{% block content %}
<div class="fx-wrap">
  <header class="fx-header">
    <h1>‚úèÔ∏è Edit Boxer</h1>
    <p class="fx-sub">Update first & last name, gender, and date of birth.</p>
  </header>

  <section class="fx-card">
    <form method="post" novalidate>
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="fx-alert">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="fx-grid">
        <!-- First name -->
        <div class="fx-field {% if form.first_name.errors %}has-error{% endif %}">
          <label for="{{ form.first_name.id_for_label }}">First name</label>
          {{ form.first_name }}
          {% for e in form.first_name.errors %}<div class="fx-error">{{ e }}</div>{% endfor %}
        </div>

        <!-- Last name -->
        <div class="fx-field {% if form.last_name.errors %}has-error{% endif %}">
          <label for="{{ form.last_name.id_for_label }}">Last name</label>
          {{ form.last_name }}
          {% for e in form.last_name.errors %}<div class="fx-error">{{ e }}</div>{% endfor %}
        </div>

        <!-- Gender -->
        <div class="fx-field fx-span-2 {% if form.gender.errors %}has-error{% endif %}">
          <label>Gender</label>
          <div class="fx-segment">
            {# Works with RadioSelect or Select. If it's a Select, it'll still look good. #}
            {% if form.gender.field.widget.input_type == 'radio' %}
              {% for radio in form.gender %}
                <label class="fx-segment__item">
                  {{ radio.tag }}
                  <span class="fx-segment__label">{{ radio.choice_label }}</span>
                </label>
              {% endfor %}
            {% else %}
              {{ form.gender }}
            {% endif %}
          </div>
          {% for e in form.gender.errors %}<div class="fx-error">{{ e }}</div>{% endfor %}
        </div>

        <!-- DOB -->
        <div class="fx-field fx-span-2 {% if form.date_of_birth.errors %}has-error{% endif %}">
          <label for="{{ form.date_of_birth.id_for_label }}">Date of birth</label>
          {{ form.date_of_birth }}
          {% for e in form.date_of_birth.errors %}<div class="fx-error">{{ e }}</div>{% endfor %}
        </div>
      </div>

      <div class="fx-actions">
        <button class="fx-btn fx-btn--primary" type="submit">üíæ Save changes</button>
        <a class="fx-btn fx-btn--ghost" href="{{ request.GET.next|default:request.META.HTTP_REFERER|default:'/' }}">Cancel</a>
      </div>
    </form>
  </section>
</div>

<style>
/* ====== Vars & layout ====== */
.fx-wrap{
  --fx-brand:#00ff66;
  --fx-accent:#00ccff;
  --fx-bg:#0a0b0d;
  --fx-panel:#0f1115;
  --fx-border:rgba(0,255,102,0.35);
  --fx-text:#e9f1ec;
  --fx-muted:#9fb3a8;
  margin:0 auto; padding:16px; max-width:920px; color:var(--fx-text);
}
.fx-header{
  position:sticky; top:0; z-index:5;
  background:linear-gradient(180deg, rgba(10,11,13,0.95), rgba(10,11,13,0.6));
  backdrop-filter: blur(6px);
  margin:-16px -16px 16px -16px; padding:16px;
  border-bottom:1px solid rgba(0,204,255,0.18);
}
.fx-header h1{ margin:0; font-size:clamp(20px,3.5vw,28px); letter-spacing:.3px; text-shadow:0 0 12px rgba(0,255,102,0.35); }
.fx-sub{ margin:.25rem 0 0; color:var(--fx-muted); font-size:.95rem; }

/* ====== Card ====== */
.fx-card{
  background:radial-gradient(1200px 400px at -10% -20%, rgba(0,255,102,0.06), transparent 45%),
             radial-gradient(900px 350px at 110% -10%, rgba(0,204,255,0.06), transparent 46%),
             var(--fx-panel);
  border:1px solid var(--fx-border);
  border-radius:18px;
  padding:16px;
  box-shadow:0 0 0 1px rgba(0,255,102,0.12) inset, 0 10px 30px rgba(0,0,0,0.35), 0 0 40px rgba(0,204,255,0.08);
}

/* ====== Grid ====== */
.fx-grid{ display:grid; gap:14px; grid-template-columns: repeat(2, minmax(0,1fr)); }
.fx-span-2{ grid-column:1/-1; }
@media (max-width:640px){ .fx-grid{ grid-template-columns:1fr; } }

/* ====== Fields & inputs ====== */
.fx-field label{ display:block; margin:0 0 6px; font-size:.95rem; color:#bfe8d4; }
/* Style native inputs/selects inside our form */
.fx-field input[type="text"],
.fx-field input[type="date"],
.fx-field select{
  width:100%; background:#0c0e12; color:var(--fx-text);
  border:1px solid rgba(0,255,102,0.25); border-radius:12px;
  padding:12px 14px;
  transition:border-color .15s, box-shadow .15s, transform .05s;
}
.fx-field input[type="text"]:focus,
.fx-field input[type="date"]:focus,
.fx-field select:focus{
  outline:none; border-color:var(--fx-accent);
  box-shadow:0 0 0 3px rgba(0,204,255,0.22), 0 0 14px rgba(0,255,102,0.15);
}

/* Errors */
.fx-alert{ background:linear-gradient(180deg, rgba(255,73,110,0.12), rgba(255,73,110,0.07));
  border:1px solid rgba(255,73,110,0.35); color:#ffd8df; padding:10px 12px; border-radius:12px; margin-bottom:12px; }
.fx-error{ margin-top:6px; color:#ff9fb1; font-size:.9rem; }
.has-error input, .has-error select{ border-color:rgba(255,73,110,0.6); }

/* ====== Segmented radios ====== */
.fx-segment{ display:flex; flex-wrap:wrap; gap:8px; }
.fx-segment__item{ position:relative; display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:12px; cursor:pointer; border:1px solid rgba(0,204,255,0.35);
  background:#0a0d11; user-select:none; transition:transform .05s, box-shadow .15s, border-color .15s;
}
.fx-segment__item:hover{ box-shadow:0 0 10px rgba(0,204,255,0.18); }
.fx-segment__item input[type="radio"]{
  appearance:none; width:16px; height:16px; border-radius:50%;
  border:2px solid rgba(0,204,255,0.7); outline:none; background:transparent;
}
.fx-segment__item input[type="radio"]:checked{
  border-color: var(--fx-brand);
  box-shadow:0 0 10px rgba(0,255,102,0.5);
  background: radial-gradient(circle at 50% 50%, rgba(0,255,102,0.9) 0 40%, transparent 45%);
}
.fx-segment__label{ color:var(--fx-text); font-weight:600; letter-spacing:.2px; }

/* ====== Actions ====== */
.fx-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:16px; }
.fx-btn{ appearance:none; border:none; cursor:pointer; text-decoration:none;
  padding:12px 16px; border-radius:12px; font-weight:700; letter-spacing:.3px;
  transition:transform .05s, box-shadow .15s, background .15s; }
.fx-btn:active{ transform:translateY(1px); }
.fx-btn--primary{ background:linear-gradient(180deg, #00ff66, #00d455); color:#001b0a; box-shadow:0 6px 18px rgba(0,255,102,0.35); }
.fx-btn--primary:hover{ box-shadow:0 10px 26px rgba(0,255,102,0.55); }
.fx-btn--ghost{ background:transparent; color:var(--fx-text); border:1px solid rgba(0,204,255,0.4); }
.fx-btn--ghost:hover{ box-shadow:0 0 12px rgba(0,204,255,0.35); }

/* ====== Mobile ====== */
@media (max-width:480px){
  .fx-card{ padding:14px; border-radius:14px; }
  .fx-actions{ justify-content:stretch; }
  .fx-btn{ flex:1; text-align:center; }
}
</style>
{% endblock %}
